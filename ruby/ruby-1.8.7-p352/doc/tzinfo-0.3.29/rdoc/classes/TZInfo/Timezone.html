<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: TZInfo::Timezone</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">TZInfo::Timezone</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/tzinfo/timezone_rb.html">
                lib/tzinfo/timezone.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
<a href="Timezone.html">Timezone</a> is the base class of <a
href="Timezone.html#M000042">all</a> timezones. It provides a factory
method <a href="Timezone.html#M000039">get</a> to access timezones by <a
href="Timezone.html#M000052">identifier</a>. Once a specific <a
href="Timezone.html">Timezone</a> has been retrieved, DateTimes, Times and
timestamps can be converted between the UTC and the local time for the
zone. For example:
</p>
<pre>
  tz = TZInfo::Timezone.get('America/New_York')
  puts tz.utc_to_local(DateTime.new(2005,8,29,15,35,0)).to_s
  puts tz.local_to_utc(Time.utc(2005,8,29,11,35,0)).to_s
  puts tz.utc_to_local(1125315300).to_s
</pre>
<p>
Each time conversion method returns an object of the same type it was
passed.
</p>
<p>
The timezone information <a href="Timezone.html#M000042">all</a> comes from
the tz database (see <a
href="http://www.twinsun.com/tz/tz-link.htm">www.twinsun.com/tz/tz-link.htm</a>)
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000067">&lt;=&gt;</a>&nbsp;&nbsp;
      <a href="#M000070">_dump</a>&nbsp;&nbsp;
      <a href="#M000071">_load</a>&nbsp;&nbsp;
      <a href="#M000042">all</a>&nbsp;&nbsp;
      <a href="#M000049">all_country_zone_identifiers</a>&nbsp;&nbsp;
      <a href="#M000048">all_country_zones</a>&nbsp;&nbsp;
      <a href="#M000045">all_data_zone_identifiers</a>&nbsp;&nbsp;
      <a href="#M000044">all_data_zones</a>&nbsp;&nbsp;
      <a href="#M000043">all_identifiers</a>&nbsp;&nbsp;
      <a href="#M000047">all_linked_zone_identifiers</a>&nbsp;&nbsp;
      <a href="#M000046">all_linked_zones</a>&nbsp;&nbsp;
      <a href="#M000063">current_period</a>&nbsp;&nbsp;
      <a href="#M000064">current_period_and_time</a>&nbsp;&nbsp;
      <a href="#M000065">current_time_and_period</a>&nbsp;&nbsp;
      <a href="#M000038">default_dst</a>&nbsp;&nbsp;
      <a href="#M000037">default_dst=</a>&nbsp;&nbsp;
      <a href="#M000068">eql?</a>&nbsp;&nbsp;
      <a href="#M000056">friendly_identifier</a>&nbsp;&nbsp;
      <a href="#M000039">get</a>&nbsp;&nbsp;
      <a href="#M000040">get_proxy</a>&nbsp;&nbsp;
      <a href="#M000069">hash</a>&nbsp;&nbsp;
      <a href="#M000052">identifier</a>&nbsp;&nbsp;
      <a href="#M000055">inspect</a>&nbsp;&nbsp;
      <a href="#M000061">local_to_utc</a>&nbsp;&nbsp;
      <a href="#M000053">name</a>&nbsp;&nbsp;
      <a href="#M000041">new</a>&nbsp;&nbsp;
      <a href="#M000062">now</a>&nbsp;&nbsp;
      <a href="#M000059">period_for_local</a>&nbsp;&nbsp;
      <a href="#M000057">period_for_utc</a>&nbsp;&nbsp;
      <a href="#M000058">periods_for_local</a>&nbsp;&nbsp;
      <a href="#M000066">strftime</a>&nbsp;&nbsp;
      <a href="#M000054">to_s</a>&nbsp;&nbsp;
      <a href="#M000051">us_zone_identifiers</a>&nbsp;&nbsp;
      <a href="#M000050">us_zones</a>&nbsp;&nbsp;
      <a href="#M000060">utc_to_local</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name">Comparable</span>
      </div>
    </div>

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000071" class="method-detail">
        <a name="M000071"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000071.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000071.html');return false;">
          <span class="method-name">_load</span><span class="method-args">(data)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Loads a marshalled <a href="Timezone.html">Timezone</a>.
</p>
        </div>
      </div>

      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000042.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000042.html');return false;">
          <span class="method-name">all</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an array containing <a href="Timezone.html#M000042">all</a> the
available Timezones.
</p>
<p>
Returns <a href="TimezoneProxy.html">TimezoneProxy</a> objects to avoid the
overhead of loading <a href="Timezone.html">Timezone</a> definitions until
a conversion is actually required.
</p>
        </div>
      </div>

      <div id="method-M000049" class="method-detail">
        <a name="M000049"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000049.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000049.html');return false;">
          <span class="method-name">all_country_zone_identifiers</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns <a href="Timezone.html#M000042">all</a> the zone identifiers
defined for <a href="Timezone.html#M000042">all</a> Countries. This is not
the complete set of zone identifiers as some are not country specific (e.g.
&#8216;Etc/GMT&#8217;). You can obtain a <a
href="Timezone.html">Timezone</a> instance for a given <a
href="Timezone.html#M000052">identifier</a> with the <a
href="Timezone.html#M000039">get</a> method.
</p>
        </div>
      </div>

      <div id="method-M000048" class="method-detail">
        <a name="M000048"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000048.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000048.html');return false;">
          <span class="method-name">all_country_zones</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns <a href="Timezone.html#M000042">all</a> the Timezones defined for
<a href="Timezone.html#M000042">all</a> Countries. This is not the complete
set of Timezones as some are not country specific (e.g.
&#8216;Etc/GMT&#8217;).
</p>
<p>
Returns <a href="TimezoneProxy.html">TimezoneProxy</a> objects to avoid the
overhead of loading <a href="Timezone.html">Timezone</a> definitions until
a conversion is actually required.
</p>
        </div>
      </div>

      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000045.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000045.html');return false;">
          <span class="method-name">all_data_zone_identifiers</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an array containing the identifiers of <a
href="Timezone.html#M000042">all</a> the available Timezones that are based
on data (are not links to other Timezones)..
</p>
        </div>
      </div>

      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000044.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000044.html');return false;">
          <span class="method-name">all_data_zones</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an array containing <a href="Timezone.html#M000042">all</a> the
available Timezones that are based on data (are not links to other
Timezones).
</p>
<p>
Returns <a href="TimezoneProxy.html">TimezoneProxy</a> objects to avoid the
overhead of loading <a href="Timezone.html">Timezone</a> definitions until
a conversion is actually required.
</p>
        </div>
      </div>

      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000043.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000043.html');return false;">
          <span class="method-name">all_identifiers</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an array containing the identifiers of <a
href="Timezone.html#M000042">all</a> the available Timezones.
</p>
        </div>
      </div>

      <div id="method-M000047" class="method-detail">
        <a name="M000047"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000047.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000047.html');return false;">
          <span class="method-name">all_linked_zone_identifiers</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an array containing the identifiers of <a
href="Timezone.html#M000042">all</a> the available Timezones that are links
to other Timezones.
</p>
        </div>
      </div>

      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000046.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000046.html');return false;">
          <span class="method-name">all_linked_zones</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an array containing <a href="Timezone.html#M000042">all</a> the
available Timezones that are links to other Timezones.
</p>
<p>
Returns <a href="TimezoneProxy.html">TimezoneProxy</a> objects to avoid the
overhead of loading <a href="Timezone.html">Timezone</a> definitions until
a conversion is actually required.
</p>
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000038.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000038.html');return false;">
          <span class="method-name">default_dst</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Gets the default value of the optional dst parameter of the <a
href="Timezone.html#M000061">local_to_utc</a> and <a
href="Timezone.html#M000059">period_for_local</a> methods. Can be set to
nil, true or false.
</p>
        </div>
      </div>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000037.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000037.html');return false;">
          <span class="method-name">default_dst=</span><span class="method-args">(value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets the default value of the optional dst parameter of the <a
href="Timezone.html#M000061">local_to_utc</a> and <a
href="Timezone.html#M000059">period_for_local</a> methods. Can be set to
nil, true or false.
</p>
<p>
The value of <a href="Timezone.html#M000038">default_dst</a> defaults to
nil if unset.
</p>
        </div>
      </div>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000039.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000039.html');return false;">
          <span class="method-name">get</span><span class="method-args">(identifier)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a timezone by its <a href="Timezone.html#M000052">identifier</a>
(e.g. &quot;Europe/London&quot;, &quot;America/Chicago&quot; or
&quot;UTC&quot;).
</p>
<p>
Raises <a
href="InvalidTimezoneIdentifier.html">InvalidTimezoneIdentifier</a> if the
timezone couldn&#8216;t be found.
</p>
        </div>
      </div>

      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000040.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000040.html');return false;">
          <span class="method-name">get_proxy</span><span class="method-args">(identifier)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a proxy for the <a href="Timezone.html">Timezone</a> with the given
<a href="Timezone.html#M000052">identifier</a>. The proxy will cause the
real timezone to be loaded when an attempt is made to find a period or
convert a time. <a href="Timezone.html#M000040">get_proxy</a> will not
validate the <a href="Timezone.html#M000052">identifier</a>. If an invalid
<a href="Timezone.html#M000052">identifier</a> is specified, no exception
will be raised until the proxy is used.
</p>
        </div>
      </div>

      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000041.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000041.html');return false;">
          <span class="method-name">new</span><span class="method-args">(identifier = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
If <a href="Timezone.html#M000052">identifier</a> is nil calls super(),
otherwise calls <a href="Timezone.html#M000039">get</a>. An identfier
should always be passed in when called externally.
</p>
        </div>
      </div>

      <div id="method-M000051" class="method-detail">
        <a name="M000051"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000051.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000051.html');return false;">
          <span class="method-name">us_zone_identifiers</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns <a href="Timezone.html#M000042">all</a> US zone identifiers. A
shortcut for <a
href="Country.html#M000012">TZInfo::Country.get</a>(&#8216;US&#8217;).zone_identifiers.
</p>
        </div>
      </div>

      <div id="method-M000050" class="method-detail">
        <a name="M000050"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000050.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000050.html');return false;">
          <span class="method-name">us_zones</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns <a href="Timezone.html#M000042">all</a> US <a
href="Timezone.html">Timezone</a> instances. A shortcut for <a
href="Country.html#M000012">TZInfo::Country.get</a>(&#8216;US&#8217;).zones.
</p>
<p>
Returns <a href="TimezoneProxy.html">TimezoneProxy</a> objects to avoid the
overhead of loading <a href="Timezone.html">Timezone</a> definitions until
a conversion is actually required.
</p>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000067" class="method-detail">
        <a name="M000067"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000067.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000067.html');return false;">
          <span class="method-name">&lt;=&gt;</span><span class="method-args">(tz)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Compares two Timezones based on their <a
href="Timezone.html#M000052">identifier</a>. Returns -1 if tz is less than
self, 0 if tz is equal to self and +1 if tz is greater than self.
</p>
        </div>
      </div>

      <div id="method-M000070" class="method-detail">
        <a name="M000070"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000070.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000070.html');return false;">
          <span class="method-name">_dump</span><span class="method-args">(limit)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Dumps this <a href="Timezone.html">Timezone</a> for marshalling.
</p>
        </div>
      </div>

      <div id="method-M000063" class="method-detail">
        <a name="M000063"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000063.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000063.html');return false;">
          <span class="method-name">current_period</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the <a href="TimezonePeriod.html">TimezonePeriod</a> for the
current time.
</p>
        </div>
      </div>

      <div id="method-M000064" class="method-detail">
        <a name="M000064"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000064.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000064.html');return false;">
          <span class="method-name">current_period_and_time</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the current Time and <a
href="TimezonePeriod.html">TimezonePeriod</a> as an array. The first
element is the time, the second element is the period.
</p>
        </div>
      </div>

      <div id="method-M000065" class="method-detail">
        <a name="M000065"></a>

        <div class="method-heading">
          <span class="method-name">current_time_and_period</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Timezone.html#M000064">current_period_and_time</a>
</p>
        </div>
      </div>

      <div id="method-M000068" class="method-detail">
        <a name="M000068"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000068.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000068.html');return false;">
          <span class="method-name">eql?</span><span class="method-args">(tz)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if and only if the <a
href="Timezone.html#M000052">identifier</a> of tz is equal to the <a
href="Timezone.html#M000052">identifier</a> of this <a
href="Timezone.html">Timezone</a>.
</p>
        </div>
      </div>

      <div id="method-M000056" class="method-detail">
        <a name="M000056"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000056.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000056.html');return false;">
          <span class="method-name">friendly_identifier</span><span class="method-args">(skip_first_part = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a friendlier version of the <a
href="Timezone.html#M000052">identifier</a>. Set skip_first_part to omit
the first part of the <a href="Timezone.html#M000052">identifier</a>
(typically a region <a href="Timezone.html#M000053">name</a>) where there
is more than one part.
</p>
<p>
For example:
</p>
<pre>
  Timezone.get('Europe/Paris').friendly_identifier(false)          #=&gt; &quot;Europe - Paris&quot;
  Timezone.get('Europe/Paris').friendly_identifier(true)           #=&gt; &quot;Paris&quot;
  Timezone.get('America/Indiana/Knox').friendly_identifier(false)  #=&gt; &quot;America - Knox, Indiana&quot;
  Timezone.get('America/Indiana/Knox').friendly_identifier(true)   #=&gt; &quot;Knox, Indiana&quot;
</pre>
        </div>
      </div>

      <div id="method-M000069" class="method-detail">
        <a name="M000069"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000069.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000069.html');return false;">
          <span class="method-name">hash</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a <a href="Timezone.html#M000069">hash</a> of this <a
href="Timezone.html">Timezone</a>.
</p>
        </div>
      </div>

      <div id="method-M000052" class="method-detail">
        <a name="M000052"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000052.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000052.html');return false;">
          <span class="method-name">identifier</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The <a href="Timezone.html#M000052">identifier</a> of the timezone, e.g.
&quot;Europe/Paris&quot;.
</p>
        </div>
      </div>

      <div id="method-M000055" class="method-detail">
        <a name="M000055"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000055.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000055.html');return false;">
          <span class="method-name">inspect</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns internal object state as a programmer-readable string.
</p>
        </div>
      </div>

      <div id="method-M000061" class="method-detail">
        <a name="M000061"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000061.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000061.html');return false;">
          <span class="method-name">local_to_utc</span><span class="method-args">(local, dst = Timezone.default_dst) {|periods| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Converts a time in the local timezone to UTC. local can either be a
DateTime, Time or timestamp (Time.to_i). The returned time has the same
type as local. Any timezone information in local is ignored (it is treated
as a local time).
</p>
<p>
Warning: There are local times that have no equivalent UTC times (e.g. in
the transition from standard time to daylight savings time). There are also
local times that have more than one UTC equivalent (e.g. in the transition
from daylight savings time to standard time).
</p>
<p>
In the first case (no equivalent UTC time), a <a
href="PeriodNotFound.html">PeriodNotFound</a> exception will be raised.
</p>
<p>
In the second case (more than one equivalent UTC time), an <a
href="AmbiguousTime.html">AmbiguousTime</a> exception will be raised unless
the optional dst parameter or block handles the ambiguity.
</p>
<p>
If the ambiguity is due to a transition from daylight savings time to
standard time, the dst parameter can be used to select whether the daylight
savings time or local time is used. For example,
</p>
<pre>
  Timezone.get('America/New_York').local_to_utc(DateTime.new(2004,10,31,1,30,0))
</pre>
<p>
would raise an <a href="AmbiguousTime.html">AmbiguousTime</a> exception.
</p>
<p>
Specifying dst=true would return 2004-10-31 5:30:00. Specifying dst=false
would return 2004-10-31 6:30:00.
</p>
<p>
If the dst parameter does not resolve the ambiguity, and a block is
specified, it is called. The block must take a single parameter - an array
of the periods that need to be resolved. The block can return a single
period to use to convert the time or return nil or an empty array to cause
an <a href="AmbiguousTime.html">AmbiguousTime</a> exception to be raised.
</p>
<p>
The default value of the dst parameter can be specified by setting <a
href="Timezone.html#M000038">Timezone.default_dst</a>. If <a
href="Timezone.html#M000038">default_dst</a> is not set, or is set to nil,
then an <a href="AmbiguousTime.html">AmbiguousTime</a> exception will be
raised in ambiguous situations unless a block is given to resolve the
ambiguity.
</p>
        </div>
      </div>

      <div id="method-M000053" class="method-detail">
        <a name="M000053"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000053.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000053.html');return false;">
          <span class="method-name">name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
An alias for <a href="Timezone.html#M000052">identifier</a>.
</p>
        </div>
      </div>

      <div id="method-M000062" class="method-detail">
        <a name="M000062"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000062.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000062.html');return false;">
          <span class="method-name">now</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the current time in the timezone as a Time.
</p>
        </div>
      </div>

      <div id="method-M000059" class="method-detail">
        <a name="M000059"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000059.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000059.html');return false;">
          <span class="method-name">period_for_local</span><span class="method-args">(local, dst = Timezone.default_dst) {|results| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the <a href="TimezonePeriod.html">TimezonePeriod</a> for the given
local time. local can either be a DateTime, Time or integer timestamp
(Time.to_i). Any timezone information in local is ignored (it is treated as
a time in the current timezone).
</p>
<p>
Warning: There are local times that have no equivalent UTC times (e.g. in
the transition from standard time to daylight savings time). There are also
local times that have more than one UTC equivalent (e.g. in the transition
from daylight savings time to standard time).
</p>
<p>
In the first case (no equivalent UTC time), a <a
href="PeriodNotFound.html">PeriodNotFound</a> exception will be raised.
</p>
<p>
In the second case (more than one equivalent UTC time), an <a
href="AmbiguousTime.html">AmbiguousTime</a> exception will be raised unless
the optional dst parameter or block handles the ambiguity.
</p>
<p>
If the ambiguity is due to a transition from daylight savings time to
standard time, the dst parameter can be used to select whether the daylight
savings time or local time is used. For example,
</p>
<pre>
  Timezone.get('America/New_York').period_for_local(DateTime.new(2004,10,31,1,30,0))
</pre>
<p>
would raise an <a href="AmbiguousTime.html">AmbiguousTime</a> exception.
</p>
<p>
Specifying dst=true would the daylight savings period from April to October
2004. Specifying dst=false would return the standard period from October
2004 to April 2005.
</p>
<p>
If the dst parameter does not resolve the ambiguity, and a block is
specified, it is called. The block must take a single parameter - an array
of the periods that need to be resolved. The block can select and return a
single period or return nil or an empty array to cause an <a
href="AmbiguousTime.html">AmbiguousTime</a> exception to be raised.
</p>
<p>
The default value of the dst parameter can be specified by setting <a
href="Timezone.html#M000038">Timezone.default_dst</a>. If <a
href="Timezone.html#M000038">default_dst</a> is not set, or is set to nil,
then an <a href="AmbiguousTime.html">AmbiguousTime</a> exception will be
raised in ambiguous situations unless a block is given to resolve the
ambiguity.
</p>
        </div>
      </div>

      <div id="method-M000057" class="method-detail">
        <a name="M000057"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000057.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000057.html');return false;">
          <span class="method-name">period_for_utc</span><span class="method-args">(utc)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the <a href="TimezonePeriod.html">TimezonePeriod</a> for the given
UTC time. utc can either be a DateTime, Time or integer timestamp
(Time.to_i). Any timezone information in utc is ignored (it is treated as a
UTC time).
</p>
        </div>
      </div>

      <div id="method-M000058" class="method-detail">
        <a name="M000058"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000058.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000058.html');return false;">
          <span class="method-name">periods_for_local</span><span class="method-args">(local)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the set of <a href="TimezonePeriod.html">TimezonePeriod</a>
instances that are valid for the given local time as an array. If you just
want a single period, use <a
href="Timezone.html#M000059">period_for_local</a> instead and specify how
ambiguities should be resolved. Returns an empty array if no periods are
found for the given time.
</p>
        </div>
      </div>

      <div id="method-M000066" class="method-detail">
        <a name="M000066"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000066.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000066.html');return false;">
          <span class="method-name">strftime</span><span class="method-args">(format, utc = Time.now.utc)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Converts a time in UTC to local time and returns it as a string according
to the given format. The formatting is identical to Time.strftime and
DateTime.strftime, except %Z is replaced with the timezone abbreviation for
the specified time (for example, EST or EDT).
</p>
        </div>
      </div>

      <div id="method-M000054" class="method-detail">
        <a name="M000054"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000054.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000054.html');return false;">
          <span class="method-name">to_s</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a friendlier version of the <a
href="Timezone.html#M000052">identifier</a>.
</p>
        </div>
      </div>

      <div id="method-M000060" class="method-detail">
        <a name="M000060"></a>

        <div class="method-heading">
          <a href="Timezone.src/M000060.html" target="Code" class="method-signature"
            onclick="popupCode('Timezone.src/M000060.html');return false;">
          <span class="method-name">utc_to_local</span><span class="method-args">(utc)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Converts a time in UTC to the local timezone. utc can either be a DateTime,
Time or timestamp (Time.to_i). The returned time has the same type as utc.
Any timezone information in utc is ignored (it is treated as a UTC time).
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>