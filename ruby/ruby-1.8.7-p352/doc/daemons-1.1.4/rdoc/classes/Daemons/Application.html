<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Daemons::Application</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Daemons::Application</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/daemons/application_rb.html">
                lib/daemons/application.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000021">change_privilege</a>&nbsp;&nbsp;
      <a href="#M000034">exception_log</a>&nbsp;&nbsp;
      <a href="#M000024">logdir</a>&nbsp;&nbsp;
      <a href="#M000026">logfile</a>&nbsp;&nbsp;
      <a href="#M000020">new</a>&nbsp;&nbsp;
      <a href="#M000025">output_logfile</a>&nbsp;&nbsp;
      <a href="#M000023">pidfile_dir</a>&nbsp;&nbsp;
      <a href="#M000033">reload</a>&nbsp;&nbsp;
      <a href="#M000039">running?</a>&nbsp;&nbsp;
      <a href="#M000022">script</a>&nbsp;&nbsp;
      <a href="#M000038">show_status</a>&nbsp;&nbsp;
      <a href="#M000031">start</a>&nbsp;&nbsp;
      <a href="#M000028">start_exec</a>&nbsp;&nbsp;
      <a href="#M000029">start_load</a>&nbsp;&nbsp;
      <a href="#M000027">start_none</a>&nbsp;&nbsp;
      <a href="#M000030">start_proc</a>&nbsp;&nbsp;
      <a href="#M000032">started</a>&nbsp;&nbsp;
      <a href="#M000035">stop</a>&nbsp;&nbsp;
      <a href="#M000036">zap</a>&nbsp;&nbsp;
      <a href="#M000037">zap!</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">SIGNAL</td>
          <td>=</td>
          <td class="context-item-value">(RUBY_PLATFORM =~ /win32/ ? 'KILL' : 'TERM')</td>
        </tr>
        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">app_argv</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">controller_argv</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">group</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
the <a href="ApplicationGroup.html">ApplicationGroup</a> the application
belongs to

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">options</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
my private options

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">pid</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
the <a href="Pid.html">Pid</a> instance belonging to this application

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000020" class="method-detail">
        <a name="M000020"></a>

        <div class="method-heading">
          <a href="Application.src/M000020.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000020.html');return false;">
          <span class="method-name">new</span><span class="method-args">(group, add_options = {}, pid = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000021" class="method-detail">
        <a name="M000021"></a>

        <div class="method-heading">
          <a href="Application.src/M000021.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000021.html');return false;">
          <span class="method-name">change_privilege</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000034" class="method-detail">
        <a name="M000034"></a>

        <div class="method-heading">
          <a href="Application.src/M000034.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000034.html');return false;">
          <span class="method-name">exception_log</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This is a nice little function for debugging purposes: In case a
multi-threaded ruby <a href="Application.html#M000022">script</a> exits due
to an uncaught exception it may be difficult to find out where the
exception came from because one cannot catch exceptions that are thrown in
threads other than the main thread.
</p>
<p>
This function searches for all exceptions in memory and outputs them to
STDERR (if it is connected) and to a log file in the pid-file directory.
</p>
        </div>
      </div>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="Application.src/M000024.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000024.html');return false;">
          <span class="method-name">logdir</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <a href="Application.src/M000026.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000026.html');return false;">
          <span class="method-name">logfile</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="Application.src/M000025.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000025.html');return false;">
          <span class="method-name">output_logfile</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000023" class="method-detail">
        <a name="M000023"></a>

        <div class="method-heading">
          <a href="Application.src/M000023.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000023.html');return false;">
          <span class="method-name">pidfile_dir</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000033" class="method-detail">
        <a name="M000033"></a>

        <div class="method-heading">
          <a href="Application.src/M000033.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000033.html');return false;">
          <span class="method-name">reload</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
def run
</p>
<pre>
  if @group.controller.options[:exec]
    run_via_exec()
  else
    run_via_load()
  end
</pre>
<p>
end
</p>
<p>
def run_via_exec
</p>
<p>
end
</p>
<p>
def run_via_load
</p>
<p>
end
</p>
        </div>
      </div>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="Application.src/M000039.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000039.html');return false;">
          <span class="method-name">running?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This function implements a (probably too simle) method to detect whether
the program with the pid found in the pid-file is still running. It just
searches for the pid in the output of <tt>ps ax</tt>, which is probably not
a good idea in some cases. Alternatives would be to use a direct access
method the unix process control system.
</p>
        </div>
      </div>

      <div id="method-M000022" class="method-detail">
        <a name="M000022"></a>

        <div class="method-heading">
          <a href="Application.src/M000022.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000022.html');return false;">
          <span class="method-name">script</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="Application.src/M000038.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000038.html');return false;">
          <span class="method-name">show_status</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000031" class="method-detail">
        <a name="M000031"></a>

        <div class="method-heading">
          <a href="Application.src/M000031.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000031.html');return false;">
          <span class="method-name">start</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000028" class="method-detail">
        <a name="M000028"></a>

        <div class="method-heading">
          <a href="Application.src/M000028.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000028.html');return false;">
          <span class="method-name">start_exec</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000029" class="method-detail">
        <a name="M000029"></a>

        <div class="method-heading">
          <a href="Application.src/M000029.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000029.html');return false;">
          <span class="method-name">start_load</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="Application.src/M000027.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000027.html');return false;">
          <span class="method-name">start_none</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
this function is only used to daemonize the currently running process (<a
href="../Daemons.html#M000007">Daemons.daemonize</a>)
</p>
        </div>
      </div>

      <div id="method-M000030" class="method-detail">
        <a name="M000030"></a>

        <div class="method-heading">
          <a href="Application.src/M000030.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000030.html');return false;">
          <span class="method-name">start_proc</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000032" class="method-detail">
        <a name="M000032"></a>

        <div class="method-heading">
          <a href="Application.src/M000032.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000032.html');return false;">
          <span class="method-name">started</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">
          <a href="Application.src/M000035.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000035.html');return false;">
          <span class="method-name">stop</span><span class="method-args">(no_wait = false)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">
          <a href="Application.src/M000036.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000036.html');return false;">
          <span class="method-name">zap</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="Application.src/M000037.html" target="Code" class="method-signature"
            onclick="popupCode('Application.src/M000037.html');return false;">
          <span class="method-name">zap!</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>